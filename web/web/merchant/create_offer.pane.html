
<!-- Foody — Create Offer pane (v4, 2025-08-17) -->
<section class="pane" id="create">
  <div class="card">
    <div class="card-title">Создать оффер</div>

    <form id="offerForm" class="form grid two" novalidate>
      <!-- 1) Название -->
      <label class="full">Название продукта
        <input class="full" name="title" id="offerTitle" placeholder="Напр., Набор суши «Закат»" required>
      </label>

      <!-- 2) Базовая цена (до скидки) -->
      <label>Базовая цена (до скидки)
        <input name="original_price" id="originalPrice" type="number" min="0" step="1" placeholder="Напр., 300" required>
      </label>

      <!-- 3) Скидка: чипсы + ручной ввод -->
      <div class="full">
        <div class="work-presets" id="discountChips">
          <span class="chip" data-discount="30">-30%</span>
          <span class="chip" data-discount="40">-40%</span>
          <span class="chip" data-discount="50">-50%</span>
          <span class="chip" data-discount="60">-60%</span>
          <span class="chip" data-discount="70">-70%</span>
          <span class="chip" data-discount="80">-80%</span>
          <span class="chip" data-discount="90">-90%</span>
        </div>
        <div class="foody-rounder">
          <label for="discountPercent">Скидка, %</label>
          <input id="discountPercent" type="number" min="0" max="99" step="1" inputmode="numeric" placeholder="например, 50">
          <span class="sep">•</span>
          <span class="lbl">Округлять до:</span>
          <label class="radio"><input type="radio" name="round" value="1" checked>1 ₽</label>
          <label class="radio"><input type="radio" name="round" value="5">5 ₽</label>
        </div>
      </div>

      <!-- 4) Итоговая цена (после скидки) -->
      <label>Итоговая цена (₽)
        <input name="price" id="finalPrice" type="number" min="0" step="1" placeholder="Будет посчитана" required>
        <div class="muted small">цена продажи после скидки</div>
      </label>

      <!-- 5) Количество -->
      <label>Количество, шт
        <input name="qty_total" id="offerQty" type="number" min="1" step="1" value="1" required>
      </label>

      <!-- 6) Срок годности продукта (локально, без name) -->
      <label class="full">Срок годности продукта
        <input id="bestBefore" type="datetime-local" placeholder="до какого времени продукт ок">
        <div class="muted small">Поле не отправляется на сервер — только для контроля дат.</div>
      </label>

      <!-- 7) Срок действия оффера -->
      <label class="full">Срок действия оффера
        <input name="expires_at" id="expiresAt" type="datetime-local" placeholder="Сегодня 21:00" required>
      </label>
      <div class="full">
        <div class="work-presets" id="expireChips">
          <span class="chip" data-exp="+60">+1 час</span>
          <span class="chip" data-exp="+120">+2 часа</span>
          <span class="chip" data-exp="close">До закрытия</span>
        </div>
      </div>

      <!-- 8) Фото (опционально) -->
      <div class="field full">
        <label for="offerImage">Фото (опционально)</label>
        <input type="file" id="offerImage" accept="image/*">
        <input type="hidden" id="offerImageUrl" name="image_url">
        <p class="hint">Поддерживаются JPG/PNG/WebP до 5 МБ</p>
      </div>

      <!-- 9) Краткое описание -->
      <label class="full">Краткое описание <span class="muted small">(до 160 символов)</span>
        <textarea name="description" id="offerDesc" rows="3" maxlength="160" placeholder="Кратко: состав, порции и т.п."></textarea>
        <div class="muted small" id="descCounter">0 / 160</div>
      </label>

      <!-- Резюме -->
      <div id="offerSummary" class="foody-summary full"></div>

      <!-- Ошибки -->
      <div id="offerError" class="form-error hidden full"></div>

      <!-- Сабмит (липкий футер) -->
      <div class="form-footer sticky full">
        <button class="btn btn-primary w-full" type="submit">Сохранить оффер</button>
      </div>
    </form>
  </div>
</section>
